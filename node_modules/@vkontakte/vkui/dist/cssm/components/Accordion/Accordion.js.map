{"version":3,"sources":["../../../../src/components/Accordion/Accordion.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport { useCustomEnsuredControl } from '../../hooks/useEnsuredControl';\nimport type { HasChildren } from '../../types';\nimport { AccordionContent } from './AccordionContent';\nimport { AccordionContext } from './AccordionContext';\nimport { AccordionSummary } from './AccordionSummary';\n\nfunction useAccordionId(id: AccordionProps['id']) {\n  const generatedId = React.useId();\n  const labelId = id ?? `Accordion${generatedId}`;\n  const contentId = `AccordionContent${id ?? generatedId}`;\n\n  return { labelId, contentId };\n}\n\nexport interface AccordionProps extends HasChildren {\n  id?: string;\n  /**\n   * Управляет раскрытием и скрытием контента.\n   */\n  expanded?: boolean;\n  /**\n   * Значение по умолчанию.\n   */\n  defaultExpanded?: boolean;\n  /**\n   * Возвращает новое значение при изменении раскрытия/сворачивания контента.\n   */\n  onChange?: (newValue: boolean) => void;\n  disabled?: boolean;\n}\n\nexport const Accordion: React.FC<AccordionProps> & {\n  Summary: typeof AccordionSummary;\n  Content: typeof AccordionContent;\n} = ({\n  id,\n  expanded: expandedProp,\n  defaultExpanded = false,\n  onChange: onChangeProp,\n  children,\n  ...restProps\n}: AccordionProps) => {\n  const { labelId, contentId } = useAccordionId(id);\n\n  const [expanded, onChange] = useCustomEnsuredControl({\n    value: expandedProp,\n    defaultValue: defaultExpanded,\n    onChange: onChangeProp,\n    disabled: restProps.disabled,\n  });\n\n  const context = React.useMemo(\n    () => ({\n      labelId,\n      contentId,\n      expanded: expanded || false,\n      onChange,\n    }),\n    [contentId, expanded, labelId, onChange],\n  );\n\n  return <AccordionContext.Provider value={context}>{children}</AccordionContext.Provider>;\n};\n\nAccordion.displayName = 'Accordion';\n\nAccordion.Summary = AccordionSummary;\nAccordion.Summary.displayName = 'Accordion.Summary';\n\nAccordion.Content = AccordionContent;\nAccordion.Content.displayName = 'Accordion.Content';\n"],"names":["React","useCustomEnsuredControl","AccordionContent","AccordionContext","AccordionSummary","useAccordionId","id","generatedId","useId","labelId","contentId","Accordion","expanded","expandedProp","defaultExpanded","onChange","onChangeProp","children","restProps","value","defaultValue","disabled","context","useMemo","Provider","displayName","Summary","Content"],"mappings":"AAAA;;AAEA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,uBAAuB,QAAQ,mCAAgC;AAExE,SAASC,gBAAgB,QAAQ,wBAAqB;AACtD,SAASC,gBAAgB,QAAQ,wBAAqB;AACtD,SAASC,gBAAgB,QAAQ,wBAAqB;AAEtD,SAASC,eAAeC,EAAwB;IAC9C,MAAMC,cAAcP,MAAMQ,KAAK;IAC/B,MAAMC,UAAUH,MAAM,CAAC,SAAS,EAAEC,aAAa;IAC/C,MAAMG,YAAY,CAAC,gBAAgB,EAAEJ,MAAMC,aAAa;IAExD,OAAO;QAAEE;QAASC;IAAU;AAC9B;AAmBA,OAAO,MAAMC,YAGT,CAAC,EACHL,EAAE,EACFM,UAAUC,YAAY,EACtBC,kBAAkB,KAAK,EACvBC,UAAUC,YAAY,EACtBC,QAAQ,EACR,GAAGC,WACY;IACf,MAAM,EAAET,OAAO,EAAEC,SAAS,EAAE,GAAGL,eAAeC;IAE9C,MAAM,CAACM,UAAUG,SAAS,GAAGd,wBAAwB;QACnDkB,OAAON;QACPO,cAAcN;QACdC,UAAUC;QACVK,UAAUH,UAAUG,QAAQ;IAC9B;IAEA,MAAMC,UAAUtB,MAAMuB,OAAO,CAC3B,IAAO,CAAA;YACLd;YACAC;YACAE,UAAUA,YAAY;YACtBG;QACF,CAAA,GACA;QAACL;QAAWE;QAAUH;QAASM;KAAS;IAG1C,qBAAO,KAACZ,iBAAiBqB,QAAQ;QAACL,OAAOG;kBAAUL;;AACrD,EAAE;AAEFN,UAAUc,WAAW,GAAG;AAExBd,UAAUe,OAAO,GAAGtB;AACpBO,UAAUe,OAAO,CAACD,WAAW,GAAG;AAEhCd,UAAUgB,OAAO,GAAGzB;AACpBS,UAAUgB,OAAO,CAACF,WAAW,GAAG"}